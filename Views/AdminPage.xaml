<Page x:Class="PayrollSystem.Views.AdminPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      Title="Администрирование"
      Background="{DynamicResource MaterialDesignPaper}">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">
            <TextBlock Text="Администрирование системы" 
                       FontSize="24" 
                       FontWeight="Bold"
                       Margin="0,0,0,20"/>

            <materialDesign:Card Padding="20" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Производственный календарь" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                    <TextBlock Text="Норма рабочих часов по месяцам" Foreground="Gray" Margin="0,0,0,10"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <ComboBox x:Name="cmbCalendarYear"
                                  materialDesign:HintAssist.Hint="Год"
                                  Width="100"
                                  SelectionChanged="CmbCalendarYear_SelectionChanged"
                                  Margin="0,0,10,0"/>
                        <ComboBox x:Name="cmbCalendarMonth"
                                  materialDesign:HintAssist.Hint="Месяц"
                                  Width="150"
                                  Margin="0,0,10,0"/>
                        <TextBox x:Name="txtNormHours"
                                 materialDesign:HintAssist.Hint="Норма часов"
                                 Width="100"
                                 Margin="0,0,10,0"/>
                        <Button Content="Сохранить" 
                                Click="BtnSaveCalendar_Click"
                                Style="{StaticResource MaterialDesignRaisedButton}"/>
                    </StackPanel>
                    <DataGrid x:Name="dgCalendar"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              MaxHeight="150"
                              CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Месяц" Binding="{Binding MonthName}" Width="*"/>
                            <DataGridTextColumn Header="Год" Binding="{Binding Year}" Width="80"/>
                            <DataGridTextColumn Header="Норма часов" Binding="{Binding WorkingHours}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </materialDesign:Card>

            <materialDesign:Card Padding="20" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Пользователи" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBox x:Name="txtUsername"
                                 materialDesign:HintAssist.Hint="Логин"
                                 Width="150"
                                 Margin="0,0,10,0"/>
                        <TextBox x:Name="txtPassword"
                                 materialDesign:HintAssist.Hint="Пароль"
                                 Width="150"
                                 Margin="0,0,10,0"/>
                        <ComboBox x:Name="cmbRole"
                                  materialDesign:HintAssist.Hint="Роль"
                                  Width="120"
                                  Margin="0,0,10,0">
                            <ComboBoxItem Content="Admin"/>
                            <ComboBoxItem Content="Accountant"/>
                            <ComboBoxItem Content="Employee"/>
                        </ComboBox>
                        <Button Content="Добавить" 
                                Click="BtnAddUser_Click"
                                Style="{StaticResource MaterialDesignRaisedButton}"/>
                    </StackPanel>
                    <DataGrid x:Name="dgUsers"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              MaxHeight="150"
                              CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Логин" Binding="{Binding Username}" Width="*"/>
                            <DataGridTextColumn Header="Роль" Binding="{Binding Role}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                    <Button Content="Удалить выбранного" 
                            Click="BtnDeleteUser_Click"
                            Style="{StaticResource MaterialDesignOutlinedButton}"
                            Foreground="Red" BorderBrush="Red"
                            HorizontalAlignment="Left"
                            Margin="0,10,0,0"/>
                </StackPanel>
            </materialDesign:Card>

            <materialDesign:Card Padding="20" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Отделы" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBox x:Name="txtDepartmentName"
                                 materialDesign:HintAssist.Hint="Название отдела"
                                 Width="300"
                                 Margin="0,0,10,0"/>
                        <Button Content="Добавить" 
                                Click="BtnAddDepartment_Click"
                                Style="{StaticResource MaterialDesignRaisedButton}"/>
                    </StackPanel>
                    <DataGrid x:Name="dgDepartments"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              MaxHeight="150"
                              CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Название" Binding="{Binding DepartmentName}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                    <Button Content="Удалить выбранный" 
                            Click="BtnDeleteDepartment_Click"
                            Style="{StaticResource MaterialDesignOutlinedButton}"
                            Foreground="Red" BorderBrush="Red"
                            HorizontalAlignment="Left"
                            Margin="0,10,0,0"/>
                </StackPanel>
            </materialDesign:Card>

            <materialDesign:Card Padding="20" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Должности" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBox x:Name="txtPositionName"
                                 materialDesign:HintAssist.Hint="Название должности"
                                 Width="200"
                                 Margin="0,0,10,0"/>
                        <TextBox x:Name="txtPositionSalary"
                                 materialDesign:HintAssist.Hint="Базовый оклад"
                                 Width="120"
                                 Margin="0,0,10,0"/>
                        <Button Content="Добавить" 
                                Click="BtnAddPosition_Click"
                                Style="{StaticResource MaterialDesignRaisedButton}"/>
                    </StackPanel>
                    <DataGrid x:Name="dgPositions"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              MaxHeight="150"
                              CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Название" Binding="{Binding PositionName}" Width="*"/>
                            <DataGridTextColumn Header="Оклад" Binding="{Binding BaseSalary, StringFormat={}{0:N2}}" Width="120"/>
                        </DataGrid.Columns>
                    </DataGrid>
                    <Button Content="Удалить выбранную" 
                            Click="BtnDeletePosition_Click"
                            Style="{StaticResource MaterialDesignOutlinedButton}"
                            Foreground="Red" BorderBrush="Red"
                            HorizontalAlignment="Left"
                            Margin="0,10,0,0"/>
                </StackPanel>
            </materialDesign:Card>
        </StackPanel>
    </ScrollViewer>
</Page>
